---
layout: post
title: 前端知识总结
category: web前端
tags: [web前端]
---

data Uri来获取图片，实践了一下css sprite

How To Create an IE-Only Stylesheet
<!--[if IE]> <link rel="stylesheet" type="text/css" href="all-ie-only.css" /> <![endif]-->

<!--[if !IE 8]><!--> <link rel="stylesheet" href="style.css"><!--<![endif]--> <!--[if gte IE 9]> <link rel="stylesheet" href="style.css"> <![endif]--> <!--[if lte IE 8]> <link rel="stylesheet" href="style-NoMQs.css"> <![endif]-->

### 分辨率

### 一个页面从输入 URL 到页面加载完的过程中都发生了什么事情？

1.解析域名，找到主机IP

（1）浏览器会缓存DNS一段时间，一般2-30分钟不等。如果有缓存，直接返回IP，否则下一步。

（2）缓存中无法找到IP，浏览器会进行一个系统调用，查询hosts文件。如果找到，直接返回IP，否则下一步。（在计算机本地目录etc下有一个hosts文件，hosts文件中保存有域名与IP的对应解析，通常也可以修改hosts科学上网或破解软件。）

（3）进行了（1）（2）本地查询无果，只能借助于网络。路由器一般都会有自己的DNS缓存，ISP服务商DNS缓存，这时一般都能够得到相应的IP。如果还是无果，只能借助于DNS递归解析了。

（4）这时，ISP的DNS服务器就会开始从根域名服务器开始递归搜索，从.com顶级域名服务器，到baidu的域名服务器。

到这里，浏览器就获得了IP。在DNS解析过程中，常常会解析出不同的IP。比如，电信的是一个IP，网通的是另一个IP。这是采取了智能DNS的结果，降低运营商间访问延时，在多个运营商设置主机房，就近访问主机。电信用户返回电信主机IP，网通用户返回网通主机IP。当然，劫持DNS，也可以屏蔽掉一部分网点的访问，某防火长城也加入了这一特性。

2.浏览器与网站建立TCP连接

浏览器利用IP直接与网站主机通信。浏览器发出TCP（SYN标志位为1）连接请求，主机返回TCP（SYN，ACK标志位均为1）应答报文，浏览器收到应答报文发现ACK标志位为1，表示连接请求确认。浏览器返回TCP（）确认报文，主机收到确认报文，三次握手，TCP链接建立完成。

3.浏览器发起GET请求

浏览器向主机发起一个HTTP-GET方法报文请求。请求中包含访问的URL，也就是http://www.baidu.com/ ，还有User-Agent用户浏览器操作系统信息，编码等。值得一提的是Accep-Encoding和Cookies项。Accept-Encoding一般采用gzip，压缩之后传输html文件。Cookies如果是首次访问，会提示服务器建立用户缓存信息，如果不是，可以利用Cookies对应键值，找到相应缓存，缓存里面存放着用户名，密码和一些用户设置项。

4.显示页面或返回其他

返回状态码200 OK，表示服务器可以相应请求，返回报文，由于在报头中Content-type为“text/html”，浏览器以HTML形式呈现，而不是下载文件。

但是，对于大型网站存在多个主机站点，往往不会直接返回请求页面，而是重定向。返回的状态码就不是200 OK，而是301,302以3开头的重定向码，浏览器在获取了重定向响应后，在响应报文中Location项找到重定向地址，浏览器重新第一步访问即可。

补充一点的就是，重定向是为了负载均衡或者导入流量，提高SEO排名。利用一个前端服务器接受请求，然后负载到不同的主机上，可以大大提高站点的业务并发处理能力；重定向也可将多个域名的访问，集中到一个站点；由于baidu.com，www.baidu.com会被搜索引擎认为是两个网站，照成每个的链接数都会减少从而降低排名，永久重定向会将两个地址关联起来，搜索引擎会认为是同一个网站，从而提高排名。


### 你处于什么样的角色，起到了什么方面的作用？

### 如果再做这个项目，你会在哪些方面进行改善？

### 请设计一个 Dialog（弹出层） / Suggestion（自动完成） / Slider（图片轮播） 等组件
Dialog（弹出层）相关：
width              :  400,                    // 内容的宽度
height             :  300,                    // 内容的高度
theight            :  30,                     // 标题的高度 默认为30
drag               :  true,                   // 是否可以拖动 默认为true
time               :  3000,                   // 自动关闭窗口的时间 为空或者'undefined'则不关闭
showBg             :  true,                   // 设置是否显示遮罩层 默认为true 遮罩
closable           :  '#window-close',        // 关闭按钮
bgColor            :  '#000',                 // 默认颜色
opacity            : 0.5,                     // 默认透明度
position           : {
    x: 0,
    y: 0                                      //默认等于0 居中
},
zIndex             :                          10000,
isScroll           : true,                    //默认情况下 窗口随着滚动而滚动
isResize           : true,                    // 默认情况下 随着窗口缩放而缩放
callback           : null                     //弹窗显示后回调函数



### 谈一下你所知道的页面性能优化方法

1、图片优化

2、开启GZip压缩

3、浏览器缓存

4、开启长连接（Keep-Alive）

5、压缩CSS、JavaScript和HTML文件

6、异步脚本

7、样式表置顶，脚本置底


### 遇到的兼容性问题与解决方法
问题一：不同浏览器的标签默认的外补丁和内补丁不同
问题症状：随便写几个标签，不加样式控制的情况下，各自的margin 和padding差异较大。
解决方案：CSS里 *{margin:0;padding:0;}

问题二：块属性标签float后，又有横行的margin情况下，在IE6显示margin比设置的大
问题症状:常见症状是IE6中后面的一块被顶到下一行
解决方案：在float的标签样式控制中加入 display:inline;将其转化为行内属性

问题三：设置较小高度标签（一般小于10px），在IE6，IE7，遨游中高度超出自己设置高度
问题症状：IE6、7和遨游里这个标签的高度不受控制，超出自己设置的高度
解决方案：给超出高度的标签设置overflow:hidden;或者设置行高line-height 小于你设置的高度。

问题四：行内属性标签，设置display:block后采用float布局，又有横行的margin的情况，-IE6间距bug
问题症状：IE6里的间距比超过设置的间距
解决方案：在display:block;后面加入display:inline;display:table;

问题五：图片默认有间距
问题症状：几个img标签放在一起的时候，有些浏览器会有默认的间距，加了问题一中提到的通配符也不起作用。
解决方案：使用float属性为img布局

问题六：标签最低高度设置min-height不兼容
问题症状：因为min-height本身就是一个不兼容的CSS属性，所以设置min-height时不能很好的被各个浏览器兼容
解决方案：如果我们要设置一个标签的最小高度200px，需要进行的设置为：{min-height:200px; height:auto !important; height:200px; overflow:visible;}

问题七：透明度的兼容CSS设置


### 常用的浏览器内核
Trident (['traɪd(ə)nt])(IE内核)

Gecko(['gekəʊ])
Gecko(Firefox 内核)：Netscape6 开始采用的内核，后来的 Mozilla FireFox(火狐浏览器) 也采用了该内核，Gecko 的特点是代码完全公开，因此，其可开发程度很高，全世界的程序员都可以为其编写代码，增加功能。

Chromium/Bink
chromium fork 自开源引擎 webkit，却把 WebKit 的代码梳理得可读性提高很多，所以以前可能需要一天进行编译的代码，现在只要两个小时就能搞定。

Webkit
首先想到的便是 chrome，可以说，chrome 将 Webkit内核 深入人心，殊不知，Webkit 的鼻祖其实是 Safari。

[参考文档）(http://web.jobbole.com/84826/)


### 常用的DOM操作

### 设备与平台监测

navigator.userAgent;
/AppleWebkit\/(\S+)/.test(ua )
navigator.platform;

### Ajax的常用操作，JS跨域的实现原理

### css优先级

!important > 内联 > ID > 类 > 标签 | 伪类 | 属性选择 > 伪对象 > 继承 > 通配符 通配符 > 继承


### BFC(box , formatting context)

块级格式化上下文，一个创建了新的BFC的盒子是独立布局的，盒子里面的子元素的样式不会影响到外面的元素。在同一个 BFC 中的两个毗邻的块级盒在垂直方向（和布局方向有关系）的 margin 会发生折叠。它决定了元素如何对其内容进行布局，以及与其他元素的关系和相互作用。



BFC布局规则

1.内部的Box会在垂直方向，一个接一个地放置。

2.Box垂直方向的距离由margin决定。属于同一个BFC的两个相邻Box的margin会发生重叠

3.每个元素的margin box的左边， 与包含块border box的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此。

4.BFC的区域不会与float box重叠。(所以有左边宽度自适应)

5.BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。

6.计算BFC的高度时，浮动元素也参与计算


 <b>哪些元素会触发BFC</b>

  根元素

  float属性不为none

  position为absolute或fixed

  display为    inline-block, table-cell, table-caption, flex, inline-flex

  overflow不为visible



<b>IE如何解决？Layout </b>

    position:absolute;

    float: left|right;

    display: inline-block;

    width: value;

    height: value;

    zoom:value(非normal);  //通常zoom:1;



具有以上优点，BFC实际中的作用

    自适应布局、清除浮动、防止margin重叠。



6.布局问题



移动端高清、多屏适配方案



1）响应式布局原理

   检测设备，根据不同的设备采用不同的css，而且css都是采用的百分比的，而不是固定的宽度。

   因为大屏幕的移动设备越来越普及。而自适应布局已经无法胜任各种浏览需求。响应式设计的目的是尽可能以最好的布局显示您的数据，以实现用户友好的 Web 页面。

   现在CSS3有了个更为实用的 media query。而移动终端的浏览器（都是基于webkit内核的浏览器）基本已经完全支持了css3.他可以为你获取各种终端的数据。

   栅栏系统（响应式）

   响应式图片

   浏览器获取用户终端的屏幕尺寸、分辨率逻辑处理后输出适应的图片，如屏幕分辨率320*480，那么我们匹配给它的是宽度应小于320px的图片。如果终端屏幕的DPI(device pixels)DPI详解值很高，也就是高清屏，那么我们就得输出2倍分辨率的图形(宽:640px)；以保证在高清屏下图形的清晰度。各种移动终端的屏幕参数可通过 http://screensiz.es/phone查询。

    解决方案：响应式图形的草案：新定义标签<picture>。





高清：通常指的是分辨率高，如iphone6的dpr=2,6plus的dpr=3。



2）静态、自适应、流式、响应式四种网页布局有什么区别


   自适应布局（Adaptive Layout）

      自适应布局（Adaptive）的特点是分别为不同的屏幕分辨率定义布局。布局切换时页面元素发生改变，但在每个布局中，页面元素不随窗口大小的调整发生变化。

      你可以把自适应布局看作是静态布局的一个系列。


   流式布局（Liquid Layout）

      流式布局（Liquid）的特点（也叫”Fluid”) 是页面元素的宽度按照屏幕进行适配调整，主要的问题是如果屏幕尺度跨度太大，那么在相对其原始设计而言过小或过大的屏幕上不能正常显示。


   响应式布局（Responsive Layout）

      分别为不同的屏幕分辨率定义布局，同时，在每个布局中，应用流式布局的理念，即页面元素宽度随着窗口调整而自动适配。

      把响应式布局看作是流式布局和自适应布局设计理念的融合



7. CSS3新特性

选择器，文本、多列布局、渐变效果、css盒子、边框、背景、动画、转换


